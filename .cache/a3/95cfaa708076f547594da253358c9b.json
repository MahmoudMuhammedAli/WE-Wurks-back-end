{"id":"i97F","dependencies":[{"name":"D:\\ALL LANGs\\projects\\WE-Wurks-back-end\\package.json","includedInParent":true,"mtime":1622136377773},{"name":"express","loc":{"line":1,"column":24},"parent":"D:\\ALL LANGs\\projects\\WE-Wurks-back-end\\routes\\contact.js","resolved":"D:\\ALL LANGs\\projects\\WE-Wurks-back-end\\node_modules\\express\\index.js"},{"name":"../models/contact.js","loc":{"line":3,"column":22},"parent":"D:\\ALL LANGs\\projects\\WE-Wurks-back-end\\routes\\contact.js","resolved":"D:\\ALL LANGs\\projects\\WE-Wurks-back-end\\models\\contact.js"},{"name":"../helpers","loc":{"line":4,"column":39},"parent":"D:\\ALL LANGs\\projects\\WE-Wurks-back-end\\routes\\contact.js","resolved":"D:\\ALL LANGs\\projects\\WE-Wurks-back-end\\helpers.js"}],"generated":{"js":"var n=require(\"express\"),e=n.Router(),t=require(\"../models/contact.js\"),o=require(\"../helpers\"),c=o.handleAuthentication;e.post(\"/\",c,function(n,e){var o=n.body,c=o.contact_name,a=o.Phone,s=o.Email;new t({contact_name:c,Phone:a,Email:s}).save(function(n,t){n?e.send(\"error saving contact\"):(console.log(t),e.send(t))})}),e.get(\"/\",c,function(n,e){console.log(\"getting all contacts\"),t.find({}).exec(function(n,t){n?e.send(\"cant get the contacts \"):(console.log(t),e.json(t))})}),e.get(\"/:id\",c,function(n,e){console.log(\"getting a contact\"),t.findOne({_id:n.params.id}).exec(function(n,t){n?e.send(\"error: cant get the contact\"):(console.log(t),e.json(t))})}),e.put(\"/:id\",c,function(n,e){t.findOneAndUpdate({_id:n.params.id},{$set:{contact_name:n.body.name}},{upsert:!0},function(n,t){n?e.send(\"error updating the contact\"):(console.log(t),e.status(204))})}),e.delete(\"/:id\",c,function(n,e){t.findOneAndRemove({_id:n.params.id},function(n,t){n?e.send(\"unable to remove the contact\"):(console.log(t),e.status(204))})}),module.exports=e;"},"sourceMaps":{"js":{"mappings":[{"source":"routes/contact.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"routes/contact.js","name":"express","original":{"line":1,"column":6},"generated":{"line":1,"column":4}},{"source":"routes/contact.js","name":"require","original":{"line":1,"column":16},"generated":{"line":1,"column":6}},{"source":"routes/contact.js","original":{"line":1,"column":24},"generated":{"line":1,"column":14}},{"source":"routes/contact.js","name":"router","original":{"line":2,"column":6},"generated":{"line":1,"column":25}},{"source":"routes/contact.js","name":"express","original":{"line":2,"column":15},"generated":{"line":1,"column":27}},{"source":"routes/contact.js","name":"Router","original":{"line":2,"column":23},"generated":{"line":1,"column":29}},{"source":"routes/contact.js","name":"Contact","original":{"line":3,"column":4},"generated":{"line":1,"column":38}},{"source":"routes/contact.js","name":"require","original":{"line":3,"column":14},"generated":{"line":1,"column":40}},{"source":"routes/contact.js","original":{"line":3,"column":22},"generated":{"line":1,"column":48}},{"source":"routes/contact.js","name":"require","original":{"line":4,"column":31},"generated":{"line":1,"column":72}},{"source":"routes/contact.js","name":"require","original":{"line":4,"column":31},"generated":{"line":1,"column":74}},{"source":"routes/contact.js","original":{"line":4,"column":39},"generated":{"line":1,"column":82}},{"source":"routes/contact.js","name":"handleAuthentication","original":{"line":4,"column":7},"generated":{"line":1,"column":96}},{"source":"routes/contact.js","name":"handleAuthentication","original":{"line":4,"column":7},"generated":{"line":1,"column":98}},{"source":"routes/contact.js","name":"handleAuthentication","original":{"line":4,"column":7},"generated":{"line":1,"column":100}},{"source":"routes/contact.js","name":"router","original":{"line":7,"column":0},"generated":{"line":1,"column":121}},{"source":"routes/contact.js","name":"post","original":{"line":7,"column":7},"generated":{"line":1,"column":123}},{"source":"routes/contact.js","original":{"line":7,"column":12},"generated":{"line":1,"column":128}},{"source":"routes/contact.js","name":"handleAuthentication","original":{"line":7,"column":16},"generated":{"line":1,"column":132}},{"source":"routes/contact.js","original":{"line":7,"column":38},"generated":{"line":1,"column":134}},{"source":"routes/contact.js","name":"req","original":{"line":7,"column":39},"generated":{"line":1,"column":143}},{"source":"routes/contact.js","name":"res","original":{"line":7,"column":44},"generated":{"line":1,"column":145}},{"source":"routes/contact.js","name":"req","original":{"line":8,"column":34},"generated":{"line":1,"column":148}},{"source":"routes/contact.js","name":"req","original":{"line":8,"column":34},"generated":{"line":1,"column":152}},{"source":"routes/contact.js","name":"req","original":{"line":8,"column":34},"generated":{"line":1,"column":154}},{"source":"routes/contact.js","name":"body","original":{"line":8,"column":38},"generated":{"line":1,"column":156}},{"source":"routes/contact.js","name":"contact_name","original":{"line":8,"column":8},"generated":{"line":1,"column":161}},{"source":"routes/contact.js","name":"contact_name","original":{"line":8,"column":8},"generated":{"line":1,"column":163}},{"source":"routes/contact.js","name":"contact_name","original":{"line":8,"column":8},"generated":{"line":1,"column":165}},{"source":"routes/contact.js","name":"Phone","original":{"line":8,"column":21},"generated":{"line":1,"column":178}},{"source":"routes/contact.js","name":"Phone","original":{"line":8,"column":21},"generated":{"line":1,"column":180}},{"source":"routes/contact.js","name":"Phone","original":{"line":8,"column":21},"generated":{"line":1,"column":182}},{"source":"routes/contact.js","name":"Email","original":{"line":8,"column":27},"generated":{"line":1,"column":188}},{"source":"routes/contact.js","name":"Email","original":{"line":8,"column":27},"generated":{"line":1,"column":190}},{"source":"routes/contact.js","name":"Email","original":{"line":8,"column":27},"generated":{"line":1,"column":192}},{"source":"routes/contact.js","original":{"line":9,"column":21},"generated":{"line":1,"column":198}},{"source":"routes/contact.js","name":"Contact","original":{"line":9,"column":25},"generated":{"line":1,"column":202}},{"source":"routes/contact.js","original":{"line":9,"column":33},"generated":{"line":1,"column":204}},{"source":"routes/contact.js","name":"contact_name","original":{"line":9,"column":35},"generated":{"line":1,"column":205}},{"source":"routes/contact.js","name":"contact_name","original":{"line":9,"column":35},"generated":{"line":1,"column":218}},{"source":"routes/contact.js","name":"Phone","original":{"line":9,"column":48},"generated":{"line":1,"column":220}},{"source":"routes/contact.js","name":"Phone","original":{"line":9,"column":48},"generated":{"line":1,"column":226}},{"source":"routes/contact.js","name":"Email","original":{"line":9,"column":54},"generated":{"line":1,"column":228}},{"source":"routes/contact.js","name":"Email","original":{"line":9,"column":54},"generated":{"line":1,"column":234}},{"source":"routes/contact.js","name":"save","original":{"line":10,"column":13},"generated":{"line":1,"column":238}},{"source":"routes/contact.js","original":{"line":10,"column":18},"generated":{"line":1,"column":243}},{"source":"routes/contact.js","name":"err","original":{"line":10,"column":28},"generated":{"line":1,"column":252}},{"source":"routes/contact.js","name":"contact","original":{"line":10,"column":33},"generated":{"line":1,"column":254}},{"source":"routes/contact.js","name":"err","original":{"line":11,"column":8},"generated":{"line":1,"column":257}},{"source":"routes/contact.js","name":"res","original":{"line":12,"column":6},"generated":{"line":1,"column":259}},{"source":"routes/contact.js","name":"send","original":{"line":12,"column":10},"generated":{"line":1,"column":261}},{"source":"routes/contact.js","original":{"line":12,"column":15},"generated":{"line":1,"column":266}},{"source":"routes/contact.js","name":"console","original":{"line":14,"column":6},"generated":{"line":1,"column":291}},{"source":"routes/contact.js","name":"log","original":{"line":14,"column":14},"generated":{"line":1,"column":299}},{"source":"routes/contact.js","name":"contact","original":{"line":14,"column":18},"generated":{"line":1,"column":303}},{"source":"routes/contact.js","name":"res","original":{"line":15,"column":6},"generated":{"line":1,"column":306}},{"source":"routes/contact.js","name":"send","original":{"line":15,"column":10},"generated":{"line":1,"column":308}},{"source":"routes/contact.js","name":"contact","original":{"line":15,"column":15},"generated":{"line":1,"column":313}},{"source":"routes/contact.js","name":"router","original":{"line":21,"column":0},"generated":{"line":1,"column":321}},{"source":"routes/contact.js","name":"get","original":{"line":21,"column":7},"generated":{"line":1,"column":323}},{"source":"routes/contact.js","original":{"line":21,"column":11},"generated":{"line":1,"column":327}},{"source":"routes/contact.js","name":"handleAuthentication","original":{"line":21,"column":15},"generated":{"line":1,"column":331}},{"source":"routes/contact.js","original":{"line":21,"column":37},"generated":{"line":1,"column":333}},{"source":"routes/contact.js","name":"req","original":{"line":21,"column":38},"generated":{"line":1,"column":342}},{"source":"routes/contact.js","name":"res","original":{"line":21,"column":43},"generated":{"line":1,"column":344}},{"source":"routes/contact.js","name":"console","original":{"line":22,"column":2},"generated":{"line":1,"column":347}},{"source":"routes/contact.js","name":"log","original":{"line":22,"column":10},"generated":{"line":1,"column":355}},{"source":"routes/contact.js","original":{"line":22,"column":14},"generated":{"line":1,"column":359}},{"source":"routes/contact.js","name":"Contact","original":{"line":23,"column":2},"generated":{"line":1,"column":383}},{"source":"routes/contact.js","name":"find","original":{"line":23,"column":10},"generated":{"line":1,"column":385}},{"source":"routes/contact.js","original":{"line":23,"column":15},"generated":{"line":1,"column":390}},{"source":"routes/contact.js","name":"exec","original":{"line":23,"column":19},"generated":{"line":1,"column":394}},{"source":"routes/contact.js","original":{"line":23,"column":24},"generated":{"line":1,"column":399}},{"source":"routes/contact.js","name":"err","original":{"line":23,"column":34},"generated":{"line":1,"column":408}},{"source":"routes/contact.js","name":"contacts","original":{"line":23,"column":39},"generated":{"line":1,"column":410}},{"source":"routes/contact.js","name":"err","original":{"line":24,"column":8},"generated":{"line":1,"column":413}},{"source":"routes/contact.js","name":"res","original":{"line":25,"column":6},"generated":{"line":1,"column":415}},{"source":"routes/contact.js","name":"send","original":{"line":25,"column":10},"generated":{"line":1,"column":417}},{"source":"routes/contact.js","original":{"line":25,"column":15},"generated":{"line":1,"column":422}},{"source":"routes/contact.js","name":"console","original":{"line":27,"column":6},"generated":{"line":1,"column":449}},{"source":"routes/contact.js","name":"log","original":{"line":27,"column":14},"generated":{"line":1,"column":457}},{"source":"routes/contact.js","name":"contacts","original":{"line":27,"column":18},"generated":{"line":1,"column":461}},{"source":"routes/contact.js","name":"res","original":{"line":28,"column":6},"generated":{"line":1,"column":464}},{"source":"routes/contact.js","name":"json","original":{"line":28,"column":10},"generated":{"line":1,"column":466}},{"source":"routes/contact.js","name":"contacts","original":{"line":28,"column":15},"generated":{"line":1,"column":471}},{"source":"routes/contact.js","name":"router","original":{"line":33,"column":0},"generated":{"line":1,"column":479}},{"source":"routes/contact.js","name":"get","original":{"line":33,"column":7},"generated":{"line":1,"column":481}},{"source":"routes/contact.js","original":{"line":33,"column":11},"generated":{"line":1,"column":485}},{"source":"routes/contact.js","name":"handleAuthentication","original":{"line":33,"column":18},"generated":{"line":1,"column":492}},{"source":"routes/contact.js","original":{"line":33,"column":40},"generated":{"line":1,"column":494}},{"source":"routes/contact.js","name":"req","original":{"line":33,"column":41},"generated":{"line":1,"column":503}},{"source":"routes/contact.js","name":"res","original":{"line":33,"column":46},"generated":{"line":1,"column":505}},{"source":"routes/contact.js","name":"console","original":{"line":34,"column":2},"generated":{"line":1,"column":508}},{"source":"routes/contact.js","name":"log","original":{"line":34,"column":10},"generated":{"line":1,"column":516}},{"source":"routes/contact.js","original":{"line":34,"column":14},"generated":{"line":1,"column":520}},{"source":"routes/contact.js","name":"Contact","original":{"line":35,"column":2},"generated":{"line":1,"column":541}},{"source":"routes/contact.js","name":"findOne","original":{"line":35,"column":10},"generated":{"line":1,"column":543}},{"source":"routes/contact.js","original":{"line":35,"column":18},"generated":{"line":1,"column":551}},{"source":"routes/contact.js","name":"_id","original":{"line":36,"column":4},"generated":{"line":1,"column":552}},{"source":"routes/contact.js","name":"req","original":{"line":36,"column":9},"generated":{"line":1,"column":556}},{"source":"routes/contact.js","name":"params","original":{"line":36,"column":13},"generated":{"line":1,"column":558}},{"source":"routes/contact.js","name":"id","original":{"line":36,"column":20},"generated":{"line":1,"column":565}},{"source":"routes/contact.js","name":"exec","original":{"line":37,"column":5},"generated":{"line":1,"column":570}},{"source":"routes/contact.js","original":{"line":37,"column":10},"generated":{"line":1,"column":575}},{"source":"routes/contact.js","name":"err","original":{"line":37,"column":20},"generated":{"line":1,"column":584}},{"source":"routes/contact.js","name":"contact","original":{"line":37,"column":25},"generated":{"line":1,"column":586}},{"source":"routes/contact.js","name":"err","original":{"line":38,"column":8},"generated":{"line":1,"column":589}},{"source":"routes/contact.js","name":"res","original":{"line":39,"column":6},"generated":{"line":1,"column":591}},{"source":"routes/contact.js","name":"send","original":{"line":39,"column":10},"generated":{"line":1,"column":593}},{"source":"routes/contact.js","original":{"line":39,"column":15},"generated":{"line":1,"column":598}},{"source":"routes/contact.js","name":"console","original":{"line":41,"column":6},"generated":{"line":1,"column":630}},{"source":"routes/contact.js","name":"log","original":{"line":41,"column":14},"generated":{"line":1,"column":638}},{"source":"routes/contact.js","name":"contact","original":{"line":41,"column":18},"generated":{"line":1,"column":642}},{"source":"routes/contact.js","name":"res","original":{"line":42,"column":6},"generated":{"line":1,"column":645}},{"source":"routes/contact.js","name":"json","original":{"line":42,"column":10},"generated":{"line":1,"column":647}},{"source":"routes/contact.js","name":"contact","original":{"line":42,"column":15},"generated":{"line":1,"column":652}},{"source":"routes/contact.js","name":"router","original":{"line":47,"column":0},"generated":{"line":1,"column":660}},{"source":"routes/contact.js","name":"put","original":{"line":47,"column":7},"generated":{"line":1,"column":662}},{"source":"routes/contact.js","original":{"line":47,"column":11},"generated":{"line":1,"column":666}},{"source":"routes/contact.js","name":"handleAuthentication","original":{"line":47,"column":19},"generated":{"line":1,"column":673}},{"source":"routes/contact.js","original":{"line":47,"column":40},"generated":{"line":1,"column":675}},{"source":"routes/contact.js","name":"req","original":{"line":47,"column":41},"generated":{"line":1,"column":684}},{"source":"routes/contact.js","name":"res","original":{"line":47,"column":46},"generated":{"line":1,"column":686}},{"source":"routes/contact.js","name":"Contact","original":{"line":48,"column":4},"generated":{"line":1,"column":689}},{"source":"routes/contact.js","name":"findOneAndUpdate","original":{"line":48,"column":12},"generated":{"line":1,"column":691}},{"source":"routes/contact.js","original":{"line":49,"column":4},"generated":{"line":1,"column":708}},{"source":"routes/contact.js","name":"_id","original":{"line":50,"column":6},"generated":{"line":1,"column":709}},{"source":"routes/contact.js","name":"req","original":{"line":50,"column":11},"generated":{"line":1,"column":713}},{"source":"routes/contact.js","name":"params","original":{"line":50,"column":15},"generated":{"line":1,"column":715}},{"source":"routes/contact.js","name":"id","original":{"line":50,"column":22},"generated":{"line":1,"column":722}},{"source":"routes/contact.js","original":{"line":52,"column":4},"generated":{"line":1,"column":726}},{"source":"routes/contact.js","name":"$set","original":{"line":53,"column":6},"generated":{"line":1,"column":727}},{"source":"routes/contact.js","original":{"line":53,"column":12},"generated":{"line":1,"column":732}},{"source":"routes/contact.js","name":"contact_name","original":{"line":54,"column":8},"generated":{"line":1,"column":733}},{"source":"routes/contact.js","name":"req","original":{"line":54,"column":22},"generated":{"line":1,"column":746}},{"source":"routes/contact.js","name":"body","original":{"line":54,"column":26},"generated":{"line":1,"column":748}},{"source":"routes/contact.js","name":"name","original":{"line":54,"column":31},"generated":{"line":1,"column":753}},{"source":"routes/contact.js","original":{"line":58,"column":4},"generated":{"line":1,"column":760}},{"source":"routes/contact.js","name":"upsert","original":{"line":58,"column":6},"generated":{"line":1,"column":761}},{"source":"routes/contact.js","original":{"line":58,"column":14},"generated":{"line":1,"column":769}},{"source":"routes/contact.js","original":{"line":59,"column":4},"generated":{"line":1,"column":772}},{"source":"routes/contact.js","name":"err","original":{"line":59,"column":14},"generated":{"line":1,"column":781}},{"source":"routes/contact.js","name":"newContact","original":{"line":59,"column":19},"generated":{"line":1,"column":783}},{"source":"routes/contact.js","name":"err","original":{"line":60,"column":10},"generated":{"line":1,"column":786}},{"source":"routes/contact.js","name":"res","original":{"line":61,"column":8},"generated":{"line":1,"column":788}},{"source":"routes/contact.js","name":"send","original":{"line":61,"column":12},"generated":{"line":1,"column":790}},{"source":"routes/contact.js","original":{"line":61,"column":17},"generated":{"line":1,"column":795}},{"source":"routes/contact.js","name":"console","original":{"line":63,"column":8},"generated":{"line":1,"column":826}},{"source":"routes/contact.js","name":"log","original":{"line":63,"column":16},"generated":{"line":1,"column":834}},{"source":"routes/contact.js","name":"newContact","original":{"line":63,"column":20},"generated":{"line":1,"column":838}},{"source":"routes/contact.js","name":"res","original":{"line":64,"column":8},"generated":{"line":1,"column":841}},{"source":"routes/contact.js","name":"status","original":{"line":64,"column":12},"generated":{"line":1,"column":843}},{"source":"routes/contact.js","original":{"line":64,"column":19},"generated":{"line":1,"column":850}},{"source":"routes/contact.js","name":"router","original":{"line":70,"column":0},"generated":{"line":1,"column":860}},{"source":"routes/contact.js","name":"delete","original":{"line":70,"column":7},"generated":{"line":1,"column":862}},{"source":"routes/contact.js","original":{"line":70,"column":14},"generated":{"line":1,"column":869}},{"source":"routes/contact.js","name":"handleAuthentication","original":{"line":70,"column":21},"generated":{"line":1,"column":876}},{"source":"routes/contact.js","original":{"line":70,"column":43},"generated":{"line":1,"column":878}},{"source":"routes/contact.js","name":"req","original":{"line":70,"column":44},"generated":{"line":1,"column":887}},{"source":"routes/contact.js","name":"res","original":{"line":70,"column":49},"generated":{"line":1,"column":889}},{"source":"routes/contact.js","name":"Contact","original":{"line":71,"column":4},"generated":{"line":1,"column":892}},{"source":"routes/contact.js","name":"findOneAndRemove","original":{"line":71,"column":12},"generated":{"line":1,"column":894}},{"source":"routes/contact.js","original":{"line":72,"column":4},"generated":{"line":1,"column":911}},{"source":"routes/contact.js","name":"_id","original":{"line":73,"column":6},"generated":{"line":1,"column":912}},{"source":"routes/contact.js","name":"req","original":{"line":73,"column":11},"generated":{"line":1,"column":916}},{"source":"routes/contact.js","name":"params","original":{"line":73,"column":15},"generated":{"line":1,"column":918}},{"source":"routes/contact.js","name":"id","original":{"line":73,"column":22},"generated":{"line":1,"column":925}},{"source":"routes/contact.js","original":{"line":75,"column":4},"generated":{"line":1,"column":929}},{"source":"routes/contact.js","name":"err","original":{"line":75,"column":14},"generated":{"line":1,"column":938}},{"source":"routes/contact.js","name":"contact","original":{"line":75,"column":19},"generated":{"line":1,"column":940}},{"source":"routes/contact.js","name":"err","original":{"line":76,"column":10},"generated":{"line":1,"column":943}},{"source":"routes/contact.js","name":"res","original":{"line":77,"column":8},"generated":{"line":1,"column":945}},{"source":"routes/contact.js","name":"send","original":{"line":77,"column":12},"generated":{"line":1,"column":947}},{"source":"routes/contact.js","original":{"line":77,"column":17},"generated":{"line":1,"column":952}},{"source":"routes/contact.js","name":"console","original":{"line":79,"column":8},"generated":{"line":1,"column":985}},{"source":"routes/contact.js","name":"log","original":{"line":79,"column":16},"generated":{"line":1,"column":993}},{"source":"routes/contact.js","name":"contact","original":{"line":79,"column":20},"generated":{"line":1,"column":997}},{"source":"routes/contact.js","name":"res","original":{"line":80,"column":8},"generated":{"line":1,"column":1000}},{"source":"routes/contact.js","name":"status","original":{"line":80,"column":12},"generated":{"line":1,"column":1002}},{"source":"routes/contact.js","original":{"line":80,"column":19},"generated":{"line":1,"column":1009}},{"source":"routes/contact.js","name":"module","original":{"line":85,"column":0},"generated":{"line":1,"column":1019}},{"source":"routes/contact.js","name":"exports","original":{"line":85,"column":7},"generated":{"line":1,"column":1026}},{"source":"routes/contact.js","name":"router","original":{"line":85,"column":17},"generated":{"line":1,"column":1034}}],"sources":{"routes/contact.js":"const express = require(\"express\");\r\nconst router = express.Router();\r\nlet Contact = require(\"../models/contact.js\");\r\nconst {handleAuthentication} = require(\"../helpers\")\r\n\r\n//add a new contact\r\nrouter.post(\"/\",handleAuthentication, (req, res) => {\r\n  let { contact_name,Phone,Email}=req.body \r\n  const newContact = new Contact({ contact_name,Phone,Email});\r\n  newContact.save(function (err, contact) {\r\n    if (err) {\r\n      res.send(\"error saving contact\");\r\n    } else {\r\n      console.log(contact);\r\n      res.send(contact);\r\n    }\r\n  });\r\n});\r\n\r\n//get all contacts\r\nrouter.get(\"/\",handleAuthentication, (req, res) => {\r\n  console.log(\"getting all contacts\");\r\n  Contact.find({}).exec(function (err, contacts) {\r\n    if (err) {\r\n      res.send(\"cant get the contacts \");\r\n    } else {\r\n      console.log(contacts);\r\n      res.json(contacts);\r\n    }\r\n  });\r\n});\r\n// get specific contact\r\nrouter.get(\"/:id\",handleAuthentication, (req, res) => {\r\n  console.log(\"getting a contact\");\r\n  Contact.findOne({\r\n    _id: req.params.id,\r\n  }).exec(function (err, contact) {\r\n    if (err) {\r\n      res.send(\"error: cant get the contact\");\r\n    } else {\r\n      console.log(contact);\r\n      res.json(contact);\r\n    }\r\n  });\r\n});\r\n//update a contact\r\nrouter.put(\"/:id\", handleAuthentication,(req, res) => {\r\n    Contact.findOneAndUpdate(\r\n    {\r\n      _id: req.params.id,\r\n    },\r\n    {\r\n      $set: {\r\n        contact_name: req.body.name,\r\n        //TODO: add another update prams\r\n      },\r\n    },\r\n    { upsert: true },\r\n    function (err, newContact) {\r\n      if (err) {\r\n        res.send(\"error updating the contact\");\r\n      } else {\r\n        console.log(newContact);\r\n        res.status(204);\r\n      }\r\n    }\r\n  );\r\n});\r\n//delete a contact\r\nrouter.delete(\"/:id\",handleAuthentication, (req, res) => {\r\n    Contact.findOneAndRemove(\r\n    {\r\n      _id: req.params.id,\r\n    },\r\n    function (err, contact) {\r\n      if (err) {\r\n        res.send(\"unable to remove the contact\");\r\n      } else {\r\n        console.log(contact);\r\n        res.status(204);\r\n      }\r\n    }\r\n  );\r\n});\r\nmodule.exports = router;\r\n"},"lineCount":null}},"error":null,"hash":"dfa4c1f5b404b76b009f644479c9f8ba","cacheData":{"env":{}}}