{"id":"X9iI","dependencies":[{"name":"D:\\ALL LANGs\\projects\\WE-Wurks-back-end\\package.json","includedInParent":true,"mtime":1622136377773},{"name":"express","loc":{"line":1,"column":24},"parent":"D:\\ALL LANGs\\projects\\WE-Wurks-back-end\\routes\\jobs.js","resolved":"D:\\ALL LANGs\\projects\\WE-Wurks-back-end\\node_modules\\express\\index.js"},{"name":"../models/jobs.js","loc":{"line":3,"column":20},"parent":"D:\\ALL LANGs\\projects\\WE-Wurks-back-end\\routes\\jobs.js","resolved":"D:\\ALL LANGs\\projects\\WE-Wurks-back-end\\models\\jobs.js"},{"name":"../helpers","loc":{"line":4,"column":39},"parent":"D:\\ALL LANGs\\projects\\WE-Wurks-back-end\\routes\\jobs.js","resolved":"D:\\ALL LANGs\\projects\\WE-Wurks-back-end\\helpers.js"}],"generated":{"js":"var e=require(\"express\"),o=e.Router(),n=require(\"../models/jobs.js\"),d=require(\"../helpers\"),t=d.handleAuthentication;o.post(\"/\",t,function(e,o){var d=new n;d.job_name=e.body.name,d.job_des=e.body.description,d.job_id=e.body.id,d.status=e.body.status,d.due_date=e.body.due_date,d.scheduled_date=e.body.date,d.priorty=e.body.priorty,d.job_duration=e.body.job_duration,d.save(function(e,n){e?o.send(\"error saving job\"):(console.log(n),o.send(n))})}),o.get(\"/\",t,function(e,o){console.log(\"getting all jobs\"),n.find({}).exec(function(e,n){e?o.send(\"cant get the jobs \"):(console.log(n),o.json(n))})}),o.get(\"/:id\",t,function(e,o){console.log(\"getting a job\"),Book.findOne({_id:e.params.id}).exec(function(e,n){e?o.send(\"error: cant get the job\"):(console.log(n),o.json(n))})}),o.put(\"/:id\",t,function(e,o){n.findOneAndUpdate({_id:e.params.id},{$set:{job_name:e.body.name}},{upsert:!0},function(n,d){n?o.send(\"error updating the job \".concat(e.params.id)):(console.log(d),o.send(d))})}),o.delete(\"/:id\",t,function(e,o){n.findOneAndRemove({_id:e.params.id},function(e,n){e?o.send(\"unable to remove the job\"):o.status(204)})}),o.put(\"/:id/assign\",function(e,o){n.findOneAndUpdate({_id:e.params.id},{$set:{assignedTo:e.body.assignedTo}},{upsert:!0},function(e,n){e?o.send(\"error updating the job\"):(console.log(n),o.status(204))})}),module.exports=o;"},"sourceMaps":{"js":{"mappings":[{"source":"routes/jobs.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"routes/jobs.js","name":"express","original":{"line":1,"column":6},"generated":{"line":1,"column":4}},{"source":"routes/jobs.js","name":"require","original":{"line":1,"column":16},"generated":{"line":1,"column":6}},{"source":"routes/jobs.js","original":{"line":1,"column":24},"generated":{"line":1,"column":14}},{"source":"routes/jobs.js","name":"router","original":{"line":2,"column":6},"generated":{"line":1,"column":25}},{"source":"routes/jobs.js","name":"express","original":{"line":2,"column":15},"generated":{"line":1,"column":27}},{"source":"routes/jobs.js","name":"Router","original":{"line":2,"column":23},"generated":{"line":1,"column":29}},{"source":"routes/jobs.js","name":"Job","original":{"line":3,"column":6},"generated":{"line":1,"column":38}},{"source":"routes/jobs.js","name":"require","original":{"line":3,"column":12},"generated":{"line":1,"column":40}},{"source":"routes/jobs.js","original":{"line":3,"column":20},"generated":{"line":1,"column":48}},{"source":"routes/jobs.js","name":"require","original":{"line":4,"column":31},"generated":{"line":1,"column":69}},{"source":"routes/jobs.js","name":"require","original":{"line":4,"column":31},"generated":{"line":1,"column":71}},{"source":"routes/jobs.js","original":{"line":4,"column":39},"generated":{"line":1,"column":79}},{"source":"routes/jobs.js","name":"handleAuthentication","original":{"line":4,"column":7},"generated":{"line":1,"column":93}},{"source":"routes/jobs.js","name":"handleAuthentication","original":{"line":4,"column":7},"generated":{"line":1,"column":95}},{"source":"routes/jobs.js","name":"handleAuthentication","original":{"line":4,"column":7},"generated":{"line":1,"column":97}},{"source":"routes/jobs.js","name":"router","original":{"line":6,"column":0},"generated":{"line":1,"column":118}},{"source":"routes/jobs.js","name":"post","original":{"line":6,"column":7},"generated":{"line":1,"column":120}},{"source":"routes/jobs.js","original":{"line":6,"column":12},"generated":{"line":1,"column":125}},{"source":"routes/jobs.js","name":"handleAuthentication","original":{"line":6,"column":16},"generated":{"line":1,"column":129}},{"source":"routes/jobs.js","original":{"line":6,"column":38},"generated":{"line":1,"column":131}},{"source":"routes/jobs.js","name":"req","original":{"line":6,"column":39},"generated":{"line":1,"column":140}},{"source":"routes/jobs.js","name":"res","original":{"line":6,"column":44},"generated":{"line":1,"column":142}},{"source":"routes/jobs.js","name":"newJob","original":{"line":7,"column":6},"generated":{"line":1,"column":145}},{"source":"routes/jobs.js","name":"newJob","original":{"line":7,"column":6},"generated":{"line":1,"column":149}},{"source":"routes/jobs.js","original":{"line":7,"column":15},"generated":{"line":1,"column":151}},{"source":"routes/jobs.js","name":"Job","original":{"line":7,"column":19},"generated":{"line":1,"column":155}},{"source":"routes/jobs.js","name":"newJob","original":{"line":9,"column":2},"generated":{"line":1,"column":157}},{"source":"routes/jobs.js","name":"job_name","original":{"line":9,"column":9},"generated":{"line":1,"column":159}},{"source":"routes/jobs.js","name":"req","original":{"line":9,"column":20},"generated":{"line":1,"column":168}},{"source":"routes/jobs.js","name":"body","original":{"line":9,"column":24},"generated":{"line":1,"column":170}},{"source":"routes/jobs.js","name":"name","original":{"line":9,"column":29},"generated":{"line":1,"column":175}},{"source":"routes/jobs.js","name":"newJob","original":{"line":10,"column":2},"generated":{"line":1,"column":180}},{"source":"routes/jobs.js","name":"job_des","original":{"line":10,"column":9},"generated":{"line":1,"column":182}},{"source":"routes/jobs.js","name":"req","original":{"line":10,"column":19},"generated":{"line":1,"column":190}},{"source":"routes/jobs.js","name":"body","original":{"line":10,"column":23},"generated":{"line":1,"column":192}},{"source":"routes/jobs.js","name":"description","original":{"line":10,"column":28},"generated":{"line":1,"column":197}},{"source":"routes/jobs.js","name":"newJob","original":{"line":11,"column":2},"generated":{"line":1,"column":209}},{"source":"routes/jobs.js","name":"job_id","original":{"line":11,"column":9},"generated":{"line":1,"column":211}},{"source":"routes/jobs.js","name":"req","original":{"line":11,"column":18},"generated":{"line":1,"column":218}},{"source":"routes/jobs.js","name":"body","original":{"line":11,"column":22},"generated":{"line":1,"column":220}},{"source":"routes/jobs.js","name":"id","original":{"line":11,"column":27},"generated":{"line":1,"column":225}},{"source":"routes/jobs.js","name":"newJob","original":{"line":12,"column":2},"generated":{"line":1,"column":228}},{"source":"routes/jobs.js","name":"status","original":{"line":12,"column":9},"generated":{"line":1,"column":230}},{"source":"routes/jobs.js","name":"req","original":{"line":12,"column":18},"generated":{"line":1,"column":237}},{"source":"routes/jobs.js","name":"body","original":{"line":12,"column":22},"generated":{"line":1,"column":239}},{"source":"routes/jobs.js","name":"status","original":{"line":12,"column":27},"generated":{"line":1,"column":244}},{"source":"routes/jobs.js","name":"newJob","original":{"line":13,"column":2},"generated":{"line":1,"column":251}},{"source":"routes/jobs.js","name":"due_date","original":{"line":13,"column":9},"generated":{"line":1,"column":253}},{"source":"routes/jobs.js","name":"req","original":{"line":13,"column":20},"generated":{"line":1,"column":262}},{"source":"routes/jobs.js","name":"body","original":{"line":13,"column":24},"generated":{"line":1,"column":264}},{"source":"routes/jobs.js","name":"due_date","original":{"line":13,"column":29},"generated":{"line":1,"column":269}},{"source":"routes/jobs.js","name":"newJob","original":{"line":14,"column":2},"generated":{"line":1,"column":278}},{"source":"routes/jobs.js","name":"scheduled_date","original":{"line":14,"column":9},"generated":{"line":1,"column":280}},{"source":"routes/jobs.js","name":"req","original":{"line":14,"column":26},"generated":{"line":1,"column":295}},{"source":"routes/jobs.js","name":"body","original":{"line":14,"column":30},"generated":{"line":1,"column":297}},{"source":"routes/jobs.js","name":"date","original":{"line":14,"column":35},"generated":{"line":1,"column":302}},{"source":"routes/jobs.js","name":"newJob","original":{"line":15,"column":2},"generated":{"line":1,"column":307}},{"source":"routes/jobs.js","name":"priorty","original":{"line":15,"column":9},"generated":{"line":1,"column":309}},{"source":"routes/jobs.js","name":"req","original":{"line":15,"column":19},"generated":{"line":1,"column":317}},{"source":"routes/jobs.js","name":"body","original":{"line":15,"column":23},"generated":{"line":1,"column":319}},{"source":"routes/jobs.js","name":"priorty","original":{"line":15,"column":28},"generated":{"line":1,"column":324}},{"source":"routes/jobs.js","name":"newJob","original":{"line":16,"column":2},"generated":{"line":1,"column":332}},{"source":"routes/jobs.js","name":"job_duration","original":{"line":16,"column":9},"generated":{"line":1,"column":334}},{"source":"routes/jobs.js","name":"req","original":{"line":16,"column":24},"generated":{"line":1,"column":347}},{"source":"routes/jobs.js","name":"body","original":{"line":16,"column":28},"generated":{"line":1,"column":349}},{"source":"routes/jobs.js","name":"job_duration","original":{"line":16,"column":33},"generated":{"line":1,"column":354}},{"source":"routes/jobs.js","name":"newJob","original":{"line":18,"column":2},"generated":{"line":1,"column":367}},{"source":"routes/jobs.js","name":"save","original":{"line":18,"column":9},"generated":{"line":1,"column":369}},{"source":"routes/jobs.js","original":{"line":18,"column":14},"generated":{"line":1,"column":374}},{"source":"routes/jobs.js","name":"err","original":{"line":18,"column":24},"generated":{"line":1,"column":383}},{"source":"routes/jobs.js","name":"job","original":{"line":18,"column":29},"generated":{"line":1,"column":385}},{"source":"routes/jobs.js","name":"err","original":{"line":19,"column":8},"generated":{"line":1,"column":388}},{"source":"routes/jobs.js","name":"res","original":{"line":20,"column":6},"generated":{"line":1,"column":390}},{"source":"routes/jobs.js","name":"send","original":{"line":20,"column":10},"generated":{"line":1,"column":392}},{"source":"routes/jobs.js","original":{"line":20,"column":15},"generated":{"line":1,"column":397}},{"source":"routes/jobs.js","name":"console","original":{"line":22,"column":6},"generated":{"line":1,"column":418}},{"source":"routes/jobs.js","name":"log","original":{"line":22,"column":14},"generated":{"line":1,"column":426}},{"source":"routes/jobs.js","name":"job","original":{"line":22,"column":18},"generated":{"line":1,"column":430}},{"source":"routes/jobs.js","name":"res","original":{"line":23,"column":6},"generated":{"line":1,"column":433}},{"source":"routes/jobs.js","name":"send","original":{"line":23,"column":10},"generated":{"line":1,"column":435}},{"source":"routes/jobs.js","name":"job","original":{"line":23,"column":15},"generated":{"line":1,"column":440}},{"source":"routes/jobs.js","name":"router","original":{"line":29,"column":0},"generated":{"line":1,"column":448}},{"source":"routes/jobs.js","name":"get","original":{"line":29,"column":7},"generated":{"line":1,"column":450}},{"source":"routes/jobs.js","original":{"line":29,"column":11},"generated":{"line":1,"column":454}},{"source":"routes/jobs.js","name":"handleAuthentication","original":{"line":29,"column":16},"generated":{"line":1,"column":458}},{"source":"routes/jobs.js","original":{"line":29,"column":37},"generated":{"line":1,"column":460}},{"source":"routes/jobs.js","name":"req","original":{"line":29,"column":38},"generated":{"line":1,"column":469}},{"source":"routes/jobs.js","name":"res","original":{"line":29,"column":43},"generated":{"line":1,"column":471}},{"source":"routes/jobs.js","name":"console","original":{"line":30,"column":2},"generated":{"line":1,"column":474}},{"source":"routes/jobs.js","name":"log","original":{"line":30,"column":10},"generated":{"line":1,"column":482}},{"source":"routes/jobs.js","original":{"line":30,"column":14},"generated":{"line":1,"column":486}},{"source":"routes/jobs.js","name":"Job","original":{"line":31,"column":2},"generated":{"line":1,"column":506}},{"source":"routes/jobs.js","name":"find","original":{"line":31,"column":6},"generated":{"line":1,"column":508}},{"source":"routes/jobs.js","original":{"line":31,"column":11},"generated":{"line":1,"column":513}},{"source":"routes/jobs.js","name":"exec","original":{"line":31,"column":15},"generated":{"line":1,"column":517}},{"source":"routes/jobs.js","original":{"line":31,"column":20},"generated":{"line":1,"column":522}},{"source":"routes/jobs.js","name":"err","original":{"line":31,"column":30},"generated":{"line":1,"column":531}},{"source":"routes/jobs.js","name":"jobs","original":{"line":31,"column":35},"generated":{"line":1,"column":533}},{"source":"routes/jobs.js","name":"err","original":{"line":32,"column":8},"generated":{"line":1,"column":536}},{"source":"routes/jobs.js","name":"res","original":{"line":33,"column":6},"generated":{"line":1,"column":538}},{"source":"routes/jobs.js","name":"send","original":{"line":33,"column":10},"generated":{"line":1,"column":540}},{"source":"routes/jobs.js","original":{"line":33,"column":15},"generated":{"line":1,"column":545}},{"source":"routes/jobs.js","name":"console","original":{"line":35,"column":6},"generated":{"line":1,"column":568}},{"source":"routes/jobs.js","name":"log","original":{"line":35,"column":14},"generated":{"line":1,"column":576}},{"source":"routes/jobs.js","name":"jobs","original":{"line":35,"column":18},"generated":{"line":1,"column":580}},{"source":"routes/jobs.js","name":"res","original":{"line":36,"column":6},"generated":{"line":1,"column":583}},{"source":"routes/jobs.js","name":"json","original":{"line":36,"column":10},"generated":{"line":1,"column":585}},{"source":"routes/jobs.js","name":"jobs","original":{"line":36,"column":15},"generated":{"line":1,"column":590}},{"source":"routes/jobs.js","name":"router","original":{"line":41,"column":0},"generated":{"line":1,"column":598}},{"source":"routes/jobs.js","name":"get","original":{"line":41,"column":7},"generated":{"line":1,"column":600}},{"source":"routes/jobs.js","original":{"line":41,"column":11},"generated":{"line":1,"column":604}},{"source":"routes/jobs.js","name":"handleAuthentication","original":{"line":41,"column":18},"generated":{"line":1,"column":611}},{"source":"routes/jobs.js","original":{"line":41,"column":40},"generated":{"line":1,"column":613}},{"source":"routes/jobs.js","name":"req","original":{"line":41,"column":41},"generated":{"line":1,"column":622}},{"source":"routes/jobs.js","name":"res","original":{"line":41,"column":46},"generated":{"line":1,"column":624}},{"source":"routes/jobs.js","name":"console","original":{"line":42,"column":2},"generated":{"line":1,"column":627}},{"source":"routes/jobs.js","name":"log","original":{"line":42,"column":10},"generated":{"line":1,"column":635}},{"source":"routes/jobs.js","original":{"line":42,"column":14},"generated":{"line":1,"column":639}},{"source":"routes/jobs.js","name":"Book","original":{"line":43,"column":2},"generated":{"line":1,"column":656}},{"source":"routes/jobs.js","name":"findOne","original":{"line":43,"column":7},"generated":{"line":1,"column":661}},{"source":"routes/jobs.js","original":{"line":43,"column":15},"generated":{"line":1,"column":669}},{"source":"routes/jobs.js","name":"_id","original":{"line":44,"column":4},"generated":{"line":1,"column":670}},{"source":"routes/jobs.js","name":"req","original":{"line":44,"column":9},"generated":{"line":1,"column":674}},{"source":"routes/jobs.js","name":"params","original":{"line":44,"column":13},"generated":{"line":1,"column":676}},{"source":"routes/jobs.js","name":"id","original":{"line":44,"column":20},"generated":{"line":1,"column":683}},{"source":"routes/jobs.js","name":"exec","original":{"line":45,"column":5},"generated":{"line":1,"column":688}},{"source":"routes/jobs.js","original":{"line":45,"column":10},"generated":{"line":1,"column":693}},{"source":"routes/jobs.js","name":"err","original":{"line":45,"column":20},"generated":{"line":1,"column":702}},{"source":"routes/jobs.js","name":"job","original":{"line":45,"column":25},"generated":{"line":1,"column":704}},{"source":"routes/jobs.js","name":"err","original":{"line":46,"column":8},"generated":{"line":1,"column":707}},{"source":"routes/jobs.js","name":"res","original":{"line":47,"column":6},"generated":{"line":1,"column":709}},{"source":"routes/jobs.js","name":"send","original":{"line":47,"column":10},"generated":{"line":1,"column":711}},{"source":"routes/jobs.js","original":{"line":47,"column":15},"generated":{"line":1,"column":716}},{"source":"routes/jobs.js","name":"console","original":{"line":49,"column":6},"generated":{"line":1,"column":744}},{"source":"routes/jobs.js","name":"log","original":{"line":49,"column":14},"generated":{"line":1,"column":752}},{"source":"routes/jobs.js","name":"job","original":{"line":49,"column":18},"generated":{"line":1,"column":756}},{"source":"routes/jobs.js","name":"res","original":{"line":50,"column":6},"generated":{"line":1,"column":759}},{"source":"routes/jobs.js","name":"json","original":{"line":50,"column":10},"generated":{"line":1,"column":761}},{"source":"routes/jobs.js","name":"job","original":{"line":50,"column":15},"generated":{"line":1,"column":766}},{"source":"routes/jobs.js","name":"router","original":{"line":55,"column":0},"generated":{"line":1,"column":774}},{"source":"routes/jobs.js","name":"put","original":{"line":55,"column":7},"generated":{"line":1,"column":776}},{"source":"routes/jobs.js","original":{"line":55,"column":11},"generated":{"line":1,"column":780}},{"source":"routes/jobs.js","name":"handleAuthentication","original":{"line":55,"column":19},"generated":{"line":1,"column":787}},{"source":"routes/jobs.js","original":{"line":55,"column":40},"generated":{"line":1,"column":789}},{"source":"routes/jobs.js","name":"req","original":{"line":55,"column":41},"generated":{"line":1,"column":798}},{"source":"routes/jobs.js","name":"res","original":{"line":55,"column":46},"generated":{"line":1,"column":800}},{"source":"routes/jobs.js","name":"Job","original":{"line":56,"column":2},"generated":{"line":1,"column":803}},{"source":"routes/jobs.js","name":"findOneAndUpdate","original":{"line":56,"column":6},"generated":{"line":1,"column":805}},{"source":"routes/jobs.js","original":{"line":57,"column":4},"generated":{"line":1,"column":822}},{"source":"routes/jobs.js","name":"_id","original":{"line":58,"column":6},"generated":{"line":1,"column":823}},{"source":"routes/jobs.js","name":"req","original":{"line":58,"column":11},"generated":{"line":1,"column":827}},{"source":"routes/jobs.js","name":"params","original":{"line":58,"column":15},"generated":{"line":1,"column":829}},{"source":"routes/jobs.js","name":"id","original":{"line":58,"column":22},"generated":{"line":1,"column":836}},{"source":"routes/jobs.js","original":{"line":60,"column":4},"generated":{"line":1,"column":840}},{"source":"routes/jobs.js","name":"$set","original":{"line":61,"column":6},"generated":{"line":1,"column":841}},{"source":"routes/jobs.js","original":{"line":61,"column":12},"generated":{"line":1,"column":846}},{"source":"routes/jobs.js","name":"job_name","original":{"line":62,"column":8},"generated":{"line":1,"column":847}},{"source":"routes/jobs.js","name":"req","original":{"line":62,"column":18},"generated":{"line":1,"column":856}},{"source":"routes/jobs.js","name":"body","original":{"line":62,"column":22},"generated":{"line":1,"column":858}},{"source":"routes/jobs.js","name":"name","original":{"line":62,"column":27},"generated":{"line":1,"column":863}},{"source":"routes/jobs.js","original":{"line":66,"column":4},"generated":{"line":1,"column":870}},{"source":"routes/jobs.js","name":"upsert","original":{"line":66,"column":6},"generated":{"line":1,"column":871}},{"source":"routes/jobs.js","original":{"line":66,"column":14},"generated":{"line":1,"column":879}},{"source":"routes/jobs.js","original":{"line":67,"column":4},"generated":{"line":1,"column":882}},{"source":"routes/jobs.js","name":"err","original":{"line":67,"column":14},"generated":{"line":1,"column":891}},{"source":"routes/jobs.js","name":"newJob","original":{"line":67,"column":19},"generated":{"line":1,"column":893}},{"source":"routes/jobs.js","name":"err","original":{"line":68,"column":10},"generated":{"line":1,"column":896}},{"source":"routes/jobs.js","name":"res","original":{"line":69,"column":8},"generated":{"line":1,"column":898}},{"source":"routes/jobs.js","name":"send","original":{"line":69,"column":12},"generated":{"line":1,"column":900}},{"source":"routes/jobs.js","name":"req","original":{"line":69,"column":43},"generated":{"line":1,"column":905}},{"source":"routes/jobs.js","name":"req","original":{"line":69,"column":43},"generated":{"line":1,"column":931}},{"source":"routes/jobs.js","name":"req","original":{"line":69,"column":43},"generated":{"line":1,"column":938}},{"source":"routes/jobs.js","name":"params","original":{"line":69,"column":47},"generated":{"line":1,"column":940}},{"source":"routes/jobs.js","name":"id","original":{"line":69,"column":54},"generated":{"line":1,"column":947}},{"source":"routes/jobs.js","name":"console","original":{"line":71,"column":8},"generated":{"line":1,"column":953}},{"source":"routes/jobs.js","name":"log","original":{"line":71,"column":16},"generated":{"line":1,"column":961}},{"source":"routes/jobs.js","name":"newJob","original":{"line":71,"column":20},"generated":{"line":1,"column":965}},{"source":"routes/jobs.js","name":"res","original":{"line":72,"column":8},"generated":{"line":1,"column":968}},{"source":"routes/jobs.js","name":"send","original":{"line":72,"column":12},"generated":{"line":1,"column":970}},{"source":"routes/jobs.js","name":"newJob","original":{"line":72,"column":17},"generated":{"line":1,"column":975}},{"source":"routes/jobs.js","name":"router","original":{"line":78,"column":0},"generated":{"line":1,"column":983}},{"source":"routes/jobs.js","name":"delete","original":{"line":78,"column":7},"generated":{"line":1,"column":985}},{"source":"routes/jobs.js","original":{"line":78,"column":14},"generated":{"line":1,"column":992}},{"source":"routes/jobs.js","name":"handleAuthentication","original":{"line":78,"column":21},"generated":{"line":1,"column":999}},{"source":"routes/jobs.js","original":{"line":78,"column":43},"generated":{"line":1,"column":1001}},{"source":"routes/jobs.js","name":"req","original":{"line":78,"column":44},"generated":{"line":1,"column":1010}},{"source":"routes/jobs.js","name":"res","original":{"line":78,"column":49},"generated":{"line":1,"column":1012}},{"source":"routes/jobs.js","name":"Job","original":{"line":79,"column":2},"generated":{"line":1,"column":1015}},{"source":"routes/jobs.js","name":"findOneAndRemove","original":{"line":79,"column":6},"generated":{"line":1,"column":1017}},{"source":"routes/jobs.js","original":{"line":80,"column":4},"generated":{"line":1,"column":1034}},{"source":"routes/jobs.js","name":"_id","original":{"line":81,"column":6},"generated":{"line":1,"column":1035}},{"source":"routes/jobs.js","name":"req","original":{"line":81,"column":11},"generated":{"line":1,"column":1039}},{"source":"routes/jobs.js","name":"params","original":{"line":81,"column":15},"generated":{"line":1,"column":1041}},{"source":"routes/jobs.js","name":"id","original":{"line":81,"column":22},"generated":{"line":1,"column":1048}},{"source":"routes/jobs.js","original":{"line":83,"column":4},"generated":{"line":1,"column":1052}},{"source":"routes/jobs.js","name":"err","original":{"line":83,"column":14},"generated":{"line":1,"column":1061}},{"source":"routes/jobs.js","name":"job","original":{"line":83,"column":19},"generated":{"line":1,"column":1063}},{"source":"routes/jobs.js","name":"err","original":{"line":84,"column":10},"generated":{"line":1,"column":1066}},{"source":"routes/jobs.js","name":"res","original":{"line":85,"column":8},"generated":{"line":1,"column":1068}},{"source":"routes/jobs.js","name":"send","original":{"line":85,"column":12},"generated":{"line":1,"column":1070}},{"source":"routes/jobs.js","original":{"line":85,"column":17},"generated":{"line":1,"column":1075}},{"source":"routes/jobs.js","name":"res","original":{"line":87,"column":8},"generated":{"line":1,"column":1103}},{"source":"routes/jobs.js","name":"status","original":{"line":87,"column":12},"generated":{"line":1,"column":1105}},{"source":"routes/jobs.js","original":{"line":87,"column":19},"generated":{"line":1,"column":1112}},{"source":"routes/jobs.js","name":"router","original":{"line":95,"column":0},"generated":{"line":1,"column":1121}},{"source":"routes/jobs.js","name":"put","original":{"line":95,"column":7},"generated":{"line":1,"column":1123}},{"source":"routes/jobs.js","original":{"line":95,"column":11},"generated":{"line":1,"column":1127}},{"source":"routes/jobs.js","original":{"line":95,"column":26},"generated":{"line":1,"column":1141}},{"source":"routes/jobs.js","name":"req","original":{"line":95,"column":27},"generated":{"line":1,"column":1150}},{"source":"routes/jobs.js","name":"res","original":{"line":95,"column":32},"generated":{"line":1,"column":1152}},{"source":"routes/jobs.js","name":"Job","original":{"line":96,"column":2},"generated":{"line":1,"column":1155}},{"source":"routes/jobs.js","name":"findOneAndUpdate","original":{"line":96,"column":6},"generated":{"line":1,"column":1157}},{"source":"routes/jobs.js","original":{"line":97,"column":4},"generated":{"line":1,"column":1174}},{"source":"routes/jobs.js","name":"_id","original":{"line":98,"column":6},"generated":{"line":1,"column":1175}},{"source":"routes/jobs.js","name":"req","original":{"line":98,"column":11},"generated":{"line":1,"column":1179}},{"source":"routes/jobs.js","name":"params","original":{"line":98,"column":15},"generated":{"line":1,"column":1181}},{"source":"routes/jobs.js","name":"id","original":{"line":98,"column":22},"generated":{"line":1,"column":1188}},{"source":"routes/jobs.js","original":{"line":100,"column":4},"generated":{"line":1,"column":1192}},{"source":"routes/jobs.js","name":"$set","original":{"line":101,"column":6},"generated":{"line":1,"column":1193}},{"source":"routes/jobs.js","original":{"line":101,"column":12},"generated":{"line":1,"column":1198}},{"source":"routes/jobs.js","name":"assignedTo","original":{"line":102,"column":8},"generated":{"line":1,"column":1199}},{"source":"routes/jobs.js","name":"req","original":{"line":102,"column":20},"generated":{"line":1,"column":1210}},{"source":"routes/jobs.js","name":"body","original":{"line":102,"column":24},"generated":{"line":1,"column":1212}},{"source":"routes/jobs.js","name":"assignedTo","original":{"line":102,"column":29},"generated":{"line":1,"column":1217}},{"source":"routes/jobs.js","original":{"line":105,"column":4},"generated":{"line":1,"column":1230}},{"source":"routes/jobs.js","name":"upsert","original":{"line":105,"column":6},"generated":{"line":1,"column":1231}},{"source":"routes/jobs.js","original":{"line":105,"column":14},"generated":{"line":1,"column":1239}},{"source":"routes/jobs.js","original":{"line":106,"column":4},"generated":{"line":1,"column":1242}},{"source":"routes/jobs.js","name":"err","original":{"line":106,"column":14},"generated":{"line":1,"column":1251}},{"source":"routes/jobs.js","name":"newJob","original":{"line":106,"column":19},"generated":{"line":1,"column":1253}},{"source":"routes/jobs.js","name":"err","original":{"line":107,"column":10},"generated":{"line":1,"column":1256}},{"source":"routes/jobs.js","name":"res","original":{"line":108,"column":8},"generated":{"line":1,"column":1258}},{"source":"routes/jobs.js","name":"send","original":{"line":108,"column":12},"generated":{"line":1,"column":1260}},{"source":"routes/jobs.js","original":{"line":108,"column":17},"generated":{"line":1,"column":1265}},{"source":"routes/jobs.js","name":"console","original":{"line":110,"column":8},"generated":{"line":1,"column":1292}},{"source":"routes/jobs.js","name":"log","original":{"line":110,"column":16},"generated":{"line":1,"column":1300}},{"source":"routes/jobs.js","name":"newJob","original":{"line":110,"column":20},"generated":{"line":1,"column":1304}},{"source":"routes/jobs.js","name":"res","original":{"line":111,"column":8},"generated":{"line":1,"column":1307}},{"source":"routes/jobs.js","name":"status","original":{"line":111,"column":12},"generated":{"line":1,"column":1309}},{"source":"routes/jobs.js","original":{"line":111,"column":19},"generated":{"line":1,"column":1316}},{"source":"routes/jobs.js","name":"module","original":{"line":117,"column":0},"generated":{"line":1,"column":1326}},{"source":"routes/jobs.js","name":"exports","original":{"line":117,"column":7},"generated":{"line":1,"column":1333}},{"source":"routes/jobs.js","name":"router","original":{"line":117,"column":17},"generated":{"line":1,"column":1341}}],"sources":{"routes/jobs.js":"const express = require(\"express\");\r\nconst router = express.Router();\r\nconst Job = require(\"../models/jobs.js\");\r\nconst {handleAuthentication} = require(\"../helpers\")\r\n//add a new job\r\nrouter.post(\"/\",handleAuthentication, (req, res) => {\r\n  var newJob = new Job();\r\n\r\n  newJob.job_name = req.body.name;\r\n  newJob.job_des = req.body.description;\r\n  newJob.job_id = req.body.id;\r\n  newJob.status = req.body.status;\r\n  newJob.due_date = req.body.due_date;\r\n  newJob.scheduled_date = req.body.date;\r\n  newJob.priorty = req.body.priorty;\r\n  newJob.job_duration = req.body.job_duration;\r\n\r\n  newJob.save(function (err, job) {\r\n    if (err) {\r\n      res.send(\"error saving job\");\r\n    } else {\r\n      console.log(job);\r\n      res.send(job);\r\n    }\r\n  });\r\n});\r\n\r\n//get all jobs\r\nrouter.get(\"/\", handleAuthentication,(req, res) => {\r\n  console.log(\"getting all jobs\");\r\n  Job.find({}).exec(function (err, jobs) {\r\n    if (err) {\r\n      res.send(\"cant get the jobs \");\r\n    } else {\r\n      console.log(jobs);\r\n      res.json(jobs);\r\n    }\r\n  });\r\n});\r\n// get specific job\r\nrouter.get(\"/:id\",handleAuthentication, (req, res) => {\r\n  console.log(\"getting a job\");\r\n  Book.findOne({\r\n    _id: req.params.id,\r\n  }).exec(function (err, job) {\r\n    if (err) {\r\n      res.send(\"error: cant get the job\");\r\n    } else {\r\n      console.log(job);\r\n      res.json(job);\r\n    }\r\n  });\r\n});\r\n//update a job\r\nrouter.put(\"/:id\", handleAuthentication,(req, res) => {\r\n  Job.findOneAndUpdate(\r\n    {\r\n      _id: req.params.id,\r\n    },\r\n    {\r\n      $set: {\r\n        job_name: req.body.name,\r\n        //TODO: add another update prams\r\n      },\r\n    },\r\n    { upsert: true },\r\n    function (err, newJob) {\r\n      if (err) {\r\n        res.send(`error updating the job ${req.params.id}`);\r\n      } else {\r\n        console.log(newJob);\r\n        res.send(newJob);\r\n      }\r\n    }\r\n  );\r\n});\r\n//delete a job\r\nrouter.delete(\"/:id\",handleAuthentication, (req, res) => {\r\n  Job.findOneAndRemove(\r\n    {\r\n      _id: req.params.id,\r\n    },\r\n    function (err, job) {\r\n      if (err) {\r\n        res.send(\"unable to remove the job\");\r\n      } else {\r\n        res.status(204);\r\n      }\r\n    }\r\n  );\r\n});\r\n\r\n\r\n// TODO:assign job\r\nrouter.put(\"/:id/assign\", (req, res) => {\r\n  Job.findOneAndUpdate(\r\n    {\r\n      _id: req.params.id,\r\n    },\r\n    {\r\n      $set: {\r\n        assignedTo: req.body.assignedTo,\r\n      },\r\n    },\r\n    { upsert: true },\r\n    function (err, newJob) {\r\n      if (err) {\r\n        res.send(\"error updating the job\");\r\n      } else {\r\n        console.log(newJob);\r\n        res.status(204);\r\n      }\r\n    }\r\n  );\r\n});\r\n\r\nmodule.exports = router;\r\n"},"lineCount":null}},"error":null,"hash":"7140288edc8103a7acfe436ec93c8a1e","cacheData":{"env":{}}}